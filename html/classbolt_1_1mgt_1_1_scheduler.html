<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BoltView: bolt::mgt::Scheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BoltView
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classbolt_1_1mgt_1_1_scheduler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classbolt_1_1mgt_1_1_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bolt::mgt::Scheduler Class Reference<div class="ingroups"><a class="el" href="group__mgt.html">Multi GPU Scheduling</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;scheduler.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbolt_1_1mgt_1_1_scheduler_1_1_p_impl.html">PImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a64893875a6497fbaf11aa40cfa80d1a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a64893875a6497fbaf11aa40cfa80d1a9">Scheduler</a> (<a class="el" href="classbolt_1_1mgt_1_1_scheduler_configuration.html">SchedulerConfiguration</a> config=<a class="el" href="group__mgt.html#gabdf32fc8baf4dd854924023142647cf0">getDefaultSchedulerConfiguration</a>())</td></tr>
<tr class="separator:a64893875a6497fbaf11aa40cfa80d1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9281f96040672c235af876968dfda3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a1b9281f96040672c235af876968dfda3">~Scheduler</a> ()</td></tr>
<tr class="separator:a1b9281f96040672c235af876968dfda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5b7e7eaa07e86242c1524fb7f6b127"><td class="memItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#aae5b7e7eaa07e86242c1524fb7f6b127">addProblem</a> (std::unique_ptr&lt; <a class="el" href="classbolt_1_1mgt_1_1_i_problem.html">IProblem</a> &gt; problem)</td></tr>
<tr class="separator:aae5b7e7eaa07e86242c1524fb7f6b127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8fab24b8ac9268d923fb32b724b323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a5e8fab24b8ac9268d923fb32b724b323">runAsync</a> ()</td></tr>
<tr class="separator:a5e8fab24b8ac9268d923fb32b724b323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e816f0fde50e726b6463b041d7bd840"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a7e816f0fde50e726b6463b041d7bd840">runUntilFinished</a> ()</td></tr>
<tr class="separator:a7e816f0fde50e726b6463b041d7bd840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7f633a0464e3965df462057870d924"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a3a7f633a0464e3965df462057870d924">getNumberOfProblemsInQueue</a> ()</td></tr>
<tr class="separator:a3a7f633a0464e3965df462057870d924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52638226f444374fa0cd71612d0beb9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html#a52638226f444374fa0cd71612d0beb9a">stopAsync</a> ()</td></tr>
<tr class="memdesc:a52638226f444374fa0cd71612d0beb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this if you want to switch to single-thread use after using the async api.  <a href="classbolt_1_1mgt_1_1_scheduler.html#a52638226f444374fa0cd71612d0beb9a">More...</a><br /></td></tr>
<tr class="separator:a52638226f444374fa0cd71612d0beb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classbolt_1_1mgt_1_1_scheduler.html">Scheduler</a> manages a queue of Problems and schedules the Tasks generated from them on multiple GPUs via GpuWorkers. It assumes ownership of gpu memory, so more than one instance shouldn't be used at the same time in a single process.</p>
<p>There are two modes of operating the scheduler: 1) scheduler.runAsync(); std::future f = scheduler.addProblem(problem); <a class="el" href="group___vector_operations.html#gaea590d597c694b0bef940e2ec783d9cb">f.get()</a>;</p><ul>
<li>this async mode can be safely used from multiple threads 2) scheduler.addProblem(problem1); scheduler.addProblem(problem2); scheduler.runUntilFinished(); //(blocking call)</li>
<li>single thread use only, once RunUntilFinished is started, it is the users responsibility to ensure no further Problems are added from other threads</li>
<li>note that the order of execution of problem1 and problem2 is not fixed</li>
</ul>
<p>The scheduling behavior is very simple at the moment, assigning tasks evenly across all gpu workers in the order in which they are accepted. TODO(tom): assign tasks to gpu workers based on their current workload </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a64893875a6497fbaf11aa40cfa80d1a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64893875a6497fbaf11aa40cfa80d1a9">&#9670;&nbsp;</a></span>Scheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bolt::mgt::Scheduler::Scheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbolt_1_1mgt_1_1_scheduler_configuration.html">SchedulerConfiguration</a>&#160;</td>
          <td class="paramname"><em>config</em> = <code><a class="el" href="group__mgt.html#gabdf32fc8baf4dd854924023142647cf0">getDefaultSchedulerConfiguration</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b9281f96040672c235af876968dfda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9281f96040672c235af876968dfda3">&#9670;&nbsp;</a></span>~Scheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bolt::mgt::Scheduler::~Scheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae5b7e7eaa07e86242c1524fb7f6b127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae5b7e7eaa07e86242c1524fb7f6b127">&#9670;&nbsp;</a></span>addProblem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; void &gt; bolt::mgt::Scheduler::addProblem </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classbolt_1_1mgt_1_1_i_problem.html">IProblem</a> &gt;&#160;</td>
          <td class="paramname"><em>problem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add problem and schedule it's execution. Problems may be executed in a different order than they are submitted. \threadsafe </p>

</div>
</div>
<a id="a3a7f633a0464e3965df462057870d924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7f633a0464e3965df462057870d924">&#9670;&nbsp;</a></span>getNumberOfProblemsInQueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int bolt::mgt::Scheduler::getNumberOfProblemsInQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e8fab24b8ac9268d923fb32b724b323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8fab24b8ac9268d923fb32b724b323">&#9670;&nbsp;</a></span>runAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bolt::mgt::Scheduler::runAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start scheduler and its gpu workers threads, non-blocking \threadsafe </p>

</div>
</div>
<a id="a7e816f0fde50e726b6463b041d7bd840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e816f0fde50e726b6463b041d7bd840">&#9670;&nbsp;</a></span>runUntilFinished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bolt::mgt::Scheduler::runUntilFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start gpu workers threads + block until all queued problems are finished \NOTthreadsafe </p>

</div>
</div>
<a id="a52638226f444374fa0cd71612d0beb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52638226f444374fa0cd71612d0beb9a">&#9670;&nbsp;</a></span>stopAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bolt::mgt::Scheduler::stopAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call this if you want to switch to single-thread use after using the async api. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/johny/programming/_EYEN/boltview/boltview/mgt/<a class="el" href="scheduler_8h.html">scheduler.h</a></li>
<li>/home/johny/programming/_EYEN/boltview/boltview/mgt/<a class="el" href="scheduler_8tcc.html">scheduler.tcc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacebolt.html">bolt</a></li><li class="navelem"><a class="el" href="namespacebolt_1_1mgt.html">mgt</a></li><li class="navelem"><a class="el" href="classbolt_1_1mgt_1_1_scheduler.html">Scheduler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
